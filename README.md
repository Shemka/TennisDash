# TennisDash
## Ху из докер
Докер это что-то вроде виртуальной машины которая позволяет менеджить разные сервисы в независимом от вашей ОС окружении. Например туда можно установить убунту и прописать все так, что чтобы запустить сервер понадобится одна команда на любой ОС где есть докер.
Для начала нужо установить докер как описано в этой ссылке https://docs.docker.com/get-docker/.
## Немного теории
Основная структура докера уже прописана. Поэтому по сути нужно просто писать код как это обычно делаете и прописывать одну и ту же команду. Но немного теории.
У докера в общем есть две сущности: image и container. image грубо говоря это готовая виртуальная машина в которой еще ничего не запущено. Можно воспринимать его как незапущенный компьютер. Контейнер в свою очередь это запущенный инстанс имеджа по определенным правилам. Например можно запустить несколько контейнеров от одного и того же имеджа параллельно (например поменяв порт на котором запускается контейнер) и иметь доступ к ним обоим. То есть это что-то вроде объекта общей сущности которую мы называем имедж.
## Как работать с этим зверем
В нашем проекте, чтобы работать одновременно с базой данных и с апи был использован docker-compose, который сильно облегчает жизнь при работе с несколькими сервисами. В файле *docker-compose.yml* прописан конфиг того как нужно запускать каждый из сервисов. И тут все становится очень просто. Чтобы запустить докер и увидеть результат вашей работы нужно всего лишь написать команду
```
docker-compose up -d --build
```
эта команда соберет весь проект и запустит сервер с которым мы работаем.
## Хочу запустить SQL в базе данных
Делается это очень просто. После того как вы запустили контейнер вам нужно написать
```
docker-compose exec db psql -U tcb
```
появится CLI базы данных, в которой вы можете запустить любую SQL команду и проверить работает ли она перед тем как ее использовать в написании API.
## Хочу написать новый метод для API
Весь API работает на FastAPI, у которого для тех кто работал с фласком очень простой и интуитивный интерфейс. Все api методы лежат в server/project/routers/. Если хочется добавить метод в уже имеющий файл, то просто пишешь метод по примеру *simple_api.py* и запускаешь сервер. Если нужно создать новый файл где будут лежать какая-то группа методов, то нужно обязательно создать роутер как в *simple_api.py* и добавить его в *app.py* подобным образом:
```
app.include_router(simple_api.router)
```
дальше просто добавляете метод как сделано в остальных файлах. Итого путь до нового апи метода такой:
```
Придумали метод -> Написали его наподобие других -> проверили прописаны ли все роутеры (если был создан новый модуль) -> запускаете контейнер как было описано выше -> переходите в браузер и проверяете правильно ли это работает.
```
## Схема БД
## Здесь могла бы быть ваша реклама!
